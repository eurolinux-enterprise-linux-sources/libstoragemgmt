.TH "lsm_fs_delete" 3 "lsm_fs_delete" "October 2017" "Libstoragemgmt C API Manual" 
.SH NAME
lsm_fs_delete \- Deletes a file system
.SH SYNOPSIS
.B "int" lsm_fs_delete
.BI "(lsm_connect *" conn ","
.BI "lsm_fs *" fs ","
.BI "char **" job ","
.BI "lsm_flag " flags ");"
.SH ARGUMENTS
.IP "conn" 12
Valid connection.
.IP "fs" 12
Pointer of lsm_fs that is to be deleted.
.IP "job" 12
Output pointer of string. If storage system support asynchronous
action on this, a job will be created and could be tracked
via \fBlsm_job_status_get\fP. NULL if storage system does not support
asynchronous action on this.
.IP "flags" 12
Reserved for future use, must be LSM_CLIENT_FLAG_RSVD.
.SH "VERSION"
1.0
.SH "DESCRIPTION"
Deletes a file system and its data is lost!
When file system has snapshot attached, all its snapshot will be deleted
also.
When file system is exported, all its exports will be deleted also.
If specified file system is has child dependency, it cannot be deleted.
You may use `\fBlsm_fs_child_dependency\fP` and
`\fBlsm_fs_child_dependency_delete\fP` before `\fBlsm_fs_delete\fP`.
.SH "CAPABILITY"
LSM_CAP_FS_DELETE
.SH "RETURN"
Error code as enumerated by 'lsm_error_number'.
    * LSM_ERR_OK
        On success.
    * LSM_ERR_JOB_STARTED
        A job is started. Please check the 'job' output pointer.
    * LSM_ERR_INVALID_ARGUMENT
        When any argument is NULL or not a valid lsm_connect pointer
        or invalid flags.
    * LSM_ERR_NOT_FOUND_FS
        When file system not found.
    * LSM_ERR_POOL_NOT_READY
        Pool is not ready.
    * LSM_ERR_NO_SUPPORT
        Not supported.
    * LSM_ERR_HAS_CHILD_DEPENDENCY
        Specified volume has child dependencies.
