.TH "lsm_volume_cache_info" 3 "lsm_volume_cache_info" "October 2017" "Libstoragemgmt C API Manual" 
.SH NAME
lsm_volume_cache_info \- Query RAM cache information for the specified volume.
.SH SYNOPSIS
.B "int" lsm_volume_cache_info
.BI "(lsm_connect *" conn ","
.BI "lsm_volume *" volume ","
.BI "uint32_t *" write_cache_policy ","
.BI "uint32_t *" write_cache_status ","
.BI "uint32_t *" read_cache_policy ","
.BI "uint32_t *" read_cache_status ","
.BI "uint32_t *" physical_disk_cache ","
.BI "lsm_flag " flags ");"
.SH ARGUMENTS
.IP "conn" 12
Valid connection.
.IP "volume" 12
Pointer of lsm_volume.
.IP "write_cache_policy" 12
uint32_t. The write cache policy. Valid values are:
* LSM_VOLUME_WRITE_CACHE_POLICY_WRITE_BACK
   The storage system will use write back mode if cache hardware
   found.
* LSM_VOLUME_WRITE_CACHE_POLICY_AUTO
   The controller will use write back mode when battery/capacitor
   is in good health, otherwise, write through mode.
* LSM_VOLUME_WRITE_CACHE_POLICY_WRITE_THROUGH
   The storage system will use write through mode.
* LSM_VOLUME_WRITE_CACHE_POLICY_UNKNOWN
   Plugin failed to detect this setting.
.IP "write_cache_status" 12
uint32_t.  The status of write cache. Valid values are:
* LSM_VOLUME_WRITE_CACHE_STATUS_WRITE_THROUGH
* LSM_VOLUME_WRITE_CACHE_STATUS_WRITE_BACK
* LSM_VOLUME_WRITE_CACHE_STATUS_UNKNOWN
.IP "read_cache_policy" 12
uint32_t. The policy for read cache. Valid values are:
* LSM_VOLUME_READ_CACHE_POLICY_ENABLED
   Read cache is enabled, when reading I/O on previous unchanged
   written I/O or read I/O in cache will be returned to I/O
   initiator immediately without checking backing store(normally
   disk).
* LSM_VOLUME_READ_CACHE_POLICY_DISABLED
   Read cache is disabled.
* LSM_VOLUME_READ_CACHE_POLICY_UNKNOWN
   Plugin failed to detect the read cache policy.
.IP "read_cache_status" 12
uint32_t. The status of read cache. Valid values are:
* LSM_VOLUME_READ_CACHE_STATUS_ENABLED
* LSM_VOLUME_READ_CACHE_STATUS_DISABLED
* LSM_VOLUME_READ_CACHE_STATUS_UNKNOWN
.IP "physical_disk_cache" 12
Whether physical disk's cache is enabled or not. Please be advised,
HDD's physical disk ram cache might not be protected by storage system's
battery or capacitor on sudden power loss, you could lose data if a power
failure occurs during a write process. For SSD's physical disk cache,
please check with the vendor of your hardware RAID card and SSD disk.
Valid values are:
* LSM_VOLUME_PHYSICAL_DISK_CACHE_ENABLED
    Physical disk cache enabled.
* LSM_VOLUME_PHYSICAL_DISK_CACHE_DISABLED
    Physical disk cache disabled.
* LSM_VOLUME_PHYSICAL_DISK_CACHE_USE_DISK_SETTING
    Physical disk cache is determined by the disk vendor via
    physical disks' SCSI caching mode page(0x08 page). It is
    strongly suggested to change this value to
    LSM_VOLUME_PHYSICAL_DISK_CACHE_ENABLED or
    LSM_VOLUME_PHYSICAL_DISK_CACHE_DISABLED
* LSM_VOLUME_PHYSICAL_DISK_CACHE_UNKNOWN
    Plugin failed to detect the physical disk status.
.IP "flags" 12
Reserved for future use, must be LSM_CLIENT_FLAG_RSVD.
.SH "VERSION"
1.3.
.SH "DESCRIPTION"
Query RAM cache settings for the specified volume.
.SH "CAPABILITY"
LSM_CAP_VOLUME_CACHE_INFO
.SH "RETURN"
Error code as enumerated by 'lsm_error_number'.
    * LSM_ERR_OK
        On success.
    * LSM_ERR_NOT_FOUND_VOLUME
        When volume not found.
    * LSM_ERR_INVALID_ARGUMENT
        When any argument is NULL or invalid flags.
    * LSM_ERR_NO_SUPPORT
        Not supported.
